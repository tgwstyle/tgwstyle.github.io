{"version":3,"file":"js/253.e32a7771.js","mappings":"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","sources":["webpack://tgw-blog/./src/views/articleList.vue?a6cd","webpack://tgw-blog/./src/views/articleList.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, isRef as _isRef, withCtx as _withCtx, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4c1e2888\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"search_input\" }\nconst _hoisted_2 = { class: \"article_list_content\" }\nconst _hoisted_3 = { class: \"content_left\" }\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = { class: \"article_title colorZ size18\" }\nconst _hoisted_6 = { class: \"article_title color6 size16\" }\nconst _hoisted_7 = { class: \"article_title size14\" }\nconst _hoisted_8 = { class: \"pagination_block\" }\nconst _hoisted_9 = { class: \"content_rigth\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"content_rigth_title\" }, \"热门搜索\", -1))\nconst _hoisted_11 = { class: \"content_right_label\" }\nconst _hoisted_12 = [\"onClick\"]\n\nimport { onMounted, onUnmounted, reactive, ref, computed } from \"vue\";\nimport { Search } from \"@element-plus/icons-vue\";\nimport { get, post } from \"@/common/http\";\nimport apiPath from \"@/common/apiPath\";\nimport { useRouter } from \"vue-router\";\nimport { useStore } from \"vuex\";\nimport { throttle } from \"@/common/methods\";\n\ninterface detailObj {\n  articleId: string;\n  articleTitle: string;\n  articleIntroduce: string;\n  goodNum: number;\n  lookNum: number;\n  collectionNum: number;\n  createTime: Date;\n  tagList: string;\n  userName: string;\n}\n\n// 滚动条到顶部的距离\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'articleList',\n  setup(__props) {\n\nlet router = useRouter();\nconst store = useStore();\n\nlet topNum = ref(0);\nlet pageSize = ref(10);\nlet total = ref(0);\nlet articleList = reactive({\n  list: [],\n});\nlet searchHot = ref(true);\nlet searchValue = ref(\"\");\nlet hotList = reactive({\n  list: [],\n});\n\nlet requestStatus = ref(false);\n\nonMounted(() => {\n  window.addEventListener(\"scroll\", scrollTop);\n  if (store.state.searchVal) {\n    searchValue.value = store.state.searchVal;\n    search(false);\n  } else {\n    queryArticleList(); // 查询文章列表\n  }\n  queryHotList();\n});\nonUnmounted(() => {\n  window.removeEventListener(\"scroll\", scrollTop);\n});\n\nconst setSearch = (val: string) => {\n  console.log(\"val:\", val);\n  store.commit(\"setSearchVal\", val);\n  searchValue.value = val;\n  search(true);\n};\n\nconst pageNum = computed(() => {\n  return store.state.pageNum;\n});\n\nconst queryHotList = () => {\n  get(apiPath.queryHotList).then((ret: any) => {\n    if (ret.data.success) {\n      hotList.list = ret.data.data;\n    }\n  });\n};\n\nconst search = (blean: boolean) => {\n  throttle(() => {\n    if (blean) {\n      store.commit(\"setPageNum\", 1);\n      store.commit(\"setSearchVal\", searchValue);\n      articleList.list = [];\n      total.value = 0;\n    }\n    post(apiPath.vagueQuery, {\n      searchValue: searchValue.value,\n      pageNum: store.state.pageNum,\n      size: pageSize.value,\n    }).then((ret: any) => {\n      console.log(\"ret:\", ret);\n      if (ret.status && ret.data.success) {\n        console.log(\"ret.data.data:\", ret.data.data);\n        articleList.list = ret.data.data;\n        total.value = ret.data.total;\n      }\n    });\n  }, 2000);\n};\n\nconst showHot = (blea: boolean) => {\n  searchHot.value = blea;\n};\n\nconst currentChange = (val: number) => {\n  store.commit(\"setPageNum\", val);\n  if (searchValue.value) {\n    search(false);\n  } else {\n    queryArticleList();\n  }\n};\n\n// 查询文章列表\nconst queryArticleList = () => {\n  requestStatus.value = false;\n  get(apiPath.queryArticleList, {\n    pageNum: store.state.pageNum,\n    size: pageSize.value,\n  }).then((ret: any) => {\n    requestStatus.value = true;\n    if (ret.status && ret.data.success) {\n      articleList.list = ret.data.data;\n      total.value = ret.data.total;\n    }\n  });\n};\n\n// 查看文章详情\nconst lookDetail = (id: string) => {\n  console.log(\"id:=>\", id);\n  router.push({\n    path: \"/articleDetail\",\n    query: {\n      id: id,\n    },\n  });\n};\n\n// 监听滚动条到顶部的距离\nconst scrollTop = () => {\n  topNum.value =\n    window.pageYOffset ||\n    document.documentElement.scrollTop ||\n    document.body.scrollTop;\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_affix = _resolveComponent(\"el-affix\")!\n  const _component_el_empty = _resolveComponent(\"el-empty\")!\n  const _component_el_pagination = _resolveComponent(\"el-pagination\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"articleList\",\n    onScroll: scrollTop\n  }, [\n    _createVNode(_component_el_affix, { offset: 0 }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass(\n          _unref(searchHot) ? 'search_block search_block_bgcolor' : 'search_block'\n        )\n        }, [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createVNode(_component_el_input, {\n              size: \"large\",\n              placeholder: \"请输入搜索内容\",\n              modelValue: _unref(searchValue),\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (_isRef(searchValue) ? (searchValue).value = $event : searchValue = $event))\n            }, {\n              append: _withCtx(() => [\n                _createVNode(_component_el_button, {\n                  icon: _unref(Search),\n                  onClick: _cache[0] || (_cache[0] = ($event: any) => (search(true)))\n                }, null, 8, [\"icon\"])\n              ]),\n              _: 1\n            }, 8, [\"modelValue\"])\n          ])\n        ], 2)\n      ]),\n      _: 1\n    }),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        (!_unref(articleList).list.length && _unref(requestStatus))\n          ? (_openBlock(), _createBlock(_component_el_empty, {\n              key: 0,\n              description: \"空空如也\"\n            }))\n          : _createCommentVNode(\"\", true),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(articleList).list, (item) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            class: \"content_left_article\",\n            key: item.articleId,\n            onClick: ($event: any) => (lookDetail(item.articleId))\n          }, [\n            _createElementVNode(\"div\", _hoisted_5, _toDisplayString(item.articleTitle), 1),\n            _createElementVNode(\"div\", _hoisted_6, _toDisplayString(item.articleIntroduce), 1),\n            _createElementVNode(\"div\", _hoisted_7, [\n              _createElementVNode(\"span\", null, \"点赞: \" + _toDisplayString(item.goodNum ? item.goodNum : 0), 1),\n              _createElementVNode(\"span\", null, \"阅读: \" + _toDisplayString(item.lookNum ? item.lookNum : 0), 1),\n              _createElementVNode(\"span\", null, \"作者: \" + _toDisplayString(item.userName), 1),\n              _createElementVNode(\"span\", null, \"发布时间: \" + _toDisplayString(item.createTime), 1)\n            ])\n          ], 8, _hoisted_4))\n        }), 128)),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createVNode(_component_el_pagination, {\n            background: \"\",\n            layout: \"prev, pager, next\",\n            total: _unref(total),\n            onCurrentChange: currentChange,\n            \"current-page\": _unref(pageNum)\n          }, null, 8, [\"total\", \"current-page\"])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_9, [\n        _hoisted_10,\n        _createElementVNode(\"ul\", _hoisted_11, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(hotList).list, (item, inx) => {\n            return (_openBlock(), _createElementBlock(\"li\", {\n              key: inx + 'p',\n              onClick: ($event: any) => (setSearch(item.hotDesc))\n            }, _toDisplayString(item.hotDesc), 9, _hoisted_12))\n          }), 128))\n        ])\n      ])\n    ])\n  ], 32))\n}\n}\n\n})","import script from \"./articleList.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./articleList.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./articleList.vue?vue&type=style&index=0&id=4c1e2888&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\myDemo\\\\giteeDemo\\\\tgw-blog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4c1e2888\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_","_hoisted_11","_hoisted_12","__name","setup","__props","router","store","topNum","pageSize","total","articleList","list","searchHot","searchValue","hotList","requestStatus","window","addEventListener","scrollTop","state","searchVal","value","search","queryArticleList","queryHotList","removeEventListener","setSearch","val","console","log","commit","pageNum","apiPath","then","ret","data","success","blean","size","status","currentChange","lookDetail","id","push","path","query","pageYOffset","document","documentElement","body","_ctx","_cache","_component_el_button","_component_el_input","_component_el_affix","_component_el_empty","_component_el_pagination","onScroll","offset","default","placeholder","modelValue","$event","append","icon","onClick","length","key","description","item","articleId","articleTitle","articleIntroduce","goodNum","lookNum","userName","createTime","background","layout","onCurrentChange","inx","hotDesc","__exports__"],"sourceRoot":""}