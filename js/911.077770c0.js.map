{"version":3,"file":"js/911.077770c0.js","mappings":"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","sources":["webpack://tgw-blog/./src/views/tgwLogin.vue?f5c3","webpack://tgw-blog/./src/views/tgwLogin.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '../assets/ggg.png'\nimport _imports_1 from '../assets/e.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-28da1ca2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"bgImg\" }\nconst _hoisted_2 = { class: \"tgwLogin\" }\nconst _hoisted_3 = { class: \"tgwLogin_block\" }\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"sign in\")\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"register\")\nconst _hoisted_6 = {\n  key: 1,\n  class: \"block_img\"\n}\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"img1\",\n  src: _imports_0,\n  alt: \"\"\n}, null, -1))\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"img2\",\n  src: _imports_1,\n  alt: \"\"\n}, null, -1))\nconst _hoisted_9 = [\n  _hoisted_7,\n  _hoisted_8\n]\n\nimport { ElMessage, ElMessageBox } from \"element-plus\";\nimport type { FormInstance } from \"element-plus\";\nimport { ref, reactive } from \"vue\";\nimport { post, get } from \"../common/http\";\nimport apiPath from \"@/common/apiPath\";\nimport { useRouter } from \"vue-router\";\n\n/** 路由跳转 */\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'tgwLogin',\n  setup(__props) {\n\nconst router = useRouter();\n\n/** 定义登录动画 */\nlet animate = ref(false);\n\n/** 定义变量 */\nconst sizeForm = reactive({\n  account: \"\",\n  password: \"\",\n});\n\nconst ruleFormRef = ref<FormInstance>();\n\n/** 自定义校验规则方法 */\nconst checkAccount = (rule: any, value: any, callback: any) => {\n  if (!value) {\n    return callback(new Error(\"Please entry account number!\"));\n  }\n  setTimeout(() => {\n    const pattern = new RegExp(\"[\\u4E00-\\u9FA5]+\");\n    const konge = new RegExp(/\\s+/g);\n    if (pattern.test(value)) {\n      callback(new Error(\"请不要输入中文,暂不支持中文输入\"));\n    } else if (konge.test(value)) {\n      callback(new Error(\"禁止输入空格\"));\n    } else {\n      callback();\n    }\n  }, 1000);\n};\n\n/** 自定义校验规则 */\nconst rules = reactive({\n  account: [{ validator: checkAccount, trigger: \"blur\" }],\n  password: [{ validator: checkAccount, trigger: \"blur\" }],\n});\n\n/** 登录 */\nconst onSubmit = async (formEl: FormInstance | undefined) => {\n  animate.value = true;\n\n  get(apiPath.test, {\n    test: \"test\",\n  }).then((ret) => {\n    console.log(\"ret=>\", ret);\n  });\n\n  if (!formEl) {\n    animate.value = false;\n    return;\n  }\n  await formEl.validate((valid, fields) => {\n    if (valid) {\n      const { account = \"\", password = \"\" } = sizeForm;\n      post(apiPath.signUp, {\n        account,\n        password,\n      }).then((ret: any) => {\n        const { status = null, data } = ret;\n        if (status === 200 && data.status) {\n          sessionStorage.setItem(\"token\", data.token);\n          sessionStorage.setItem(\"userInfo\", { ...data });\n          setTimeout(() => {\n            router.push(\"/admin/manage\");\n          }, 500);\n        } else {\n          animate.value = false;\n          ElMessage({\n            message: data.msg,\n          });\n        }\n      });\n    } else {\n      animate.value = false;\n      console.log(\"error submit!\", fields);\n    }\n  });\n};\n\n/** 注册 */\nconst register = () => {\n  ElMessageBox.alert(\"Registration function is not open yet\", \"reminder\", {\n    confirmButtonText: \"OK\",\n  });\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        (!_unref(animate))\n          ? (_openBlock(), _createBlock(_component_el_form, {\n              key: 0,\n              ref_key: \"ruleFormRef\",\n              ref: ruleFormRef,\n              model: sizeForm,\n              \"label-width\": \"auto\",\n              \"label-position\": \"top\",\n              size: \"large\",\n              class: \"cu-form_width\",\n              rules: rules\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_form_item, {\n                  label: \"account\",\n                  prop: \"account\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_input, {\n                      modelValue: sizeForm.account,\n                      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((sizeForm.account) = $event)),\n                      placeholder: \"Please entry the account number\"\n                    }, null, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_el_form_item, {\n                  label: \"password\",\n                  prop: \"password\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_input, {\n                      modelValue: sizeForm.password,\n                      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((sizeForm.password) = $event)),\n                      type: \"password\",\n                      placeholder: \"Please entry the password \"\n                    }, null, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_el_form_item, { class: \"btn_block\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_button, {\n                      type: \"primary\",\n                      onClick: _cache[2] || (_cache[2] = ($event: any) => (onSubmit(ruleFormRef.value)))\n                    }, {\n                      default: _withCtx(() => [\n                        _hoisted_4\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_el_button, { onClick: register }, {\n                      default: _withCtx(() => [\n                        _hoisted_5\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"model\", \"rules\"]))\n          : _createCommentVNode(\"\", true),\n        (_unref(animate))\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _hoisted_9))\n          : _createCommentVNode(\"\", true)\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./tgwLogin.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./tgwLogin.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./tgwLogin.vue?vue&type=style&index=0&id=28da1ca2&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\myDemo\\\\giteeDemo\\\\tgw-blog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-28da1ca2\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","key","_hoisted_7","_","src","alt","_hoisted_8","_hoisted_9","__name","setup","__props","router","animate","sizeForm","account","password","ruleFormRef","checkAccount","rule","value","callback","Error","setTimeout","pattern","RegExp","konge","test","rules","validator","trigger","onSubmit","formEl","apiPath","then","ret","console","log","validate","valid","fields","status","data","sessionStorage","setItem","token","push","message","msg","register","confirmButtonText","_ctx","_cache","_component_el_input","_component_el_form_item","_component_el_button","_component_el_form","ref_key","ref","model","size","default","label","prop","modelValue","$event","placeholder","type","onClick","__exports__"],"sourceRoot":""}