"use strict";(self["webpackChunktgw_blog"]=self["webpackChunktgw_blog"]||[]).push([[775],{3775:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var a=n(6252),u=n(2262),l=n(3577),r=n(2119),i=n(2628),o=n(8352),d=n(5244),c={class:"article_manage"},s={class:"add_button"},f=(0,a.Uk)("add Article"),p={class:"User_table"},m=(0,a.Uk)("Edit"),_=(0,a.Uk)("remove"),g={class:"page_style"},w=(0,a.aZ)({__name:"ArticleManage",setup:function(t){var e=(0,r.tv)(),n=(0,u.qj)([]),w=(0,u.iH)([]),v=(0,u.iH)(1),y=(0,u.iH)(0),b=function(t){v.value=t,w.value=[],C()},h=function(){(0,i.U2)(o.Z.articleType).then((function(t){200===t.status&&t.data.forEach((function(t){return n.push(t)}))}))},k=function(t){t.row._id&&(console.log(t.row._id),(0,i.v_)(o.Z.deleteArticle,{id:t.row._id}).then((function(t){t.data&&t.data.status?(C(),(0,d.z8)({message:t.data.msg,type:"success"})):(0,d.z8)({message:t.data.msg,type:"error"})})))},W=function(t){var n=t.row._id;e.push({name:"addArticle",params:{id:n}})},C=function(){(0,i.v_)(o.Z.getArticle,{page:v.value,size:10}).then((function(t){200===t.status&&(w.value=t.data.list,console.log("dddddddddddd",w),y.value=t.data.total)}))},U=function(){e.push("/admin/addArticle")};return C(),h(),function(t,e){var n=(0,a.up)("el-button"),r=(0,a.up)("el-table-column"),i=(0,a.up)("el-tag"),o=(0,a.up)("el-popconfirm"),d=(0,a.up)("el-table"),v=(0,a.up)("el-pagination");return(0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",s,[(0,a.Wm)(n,{type:"primary",onClick:U},{default:(0,a.w5)((function(){return[f]})),_:1})]),(0,a._)("div",p,[(0,a.Wm)(d,{data:(0,u.SU)(w),style:{width:"100%"}},{default:(0,a.w5)((function(){return[(0,a.Wm)(r,{prop:"title",label:"title"}),(0,a.Wm)(r,{prop:"introduce",label:"introduce"}),(0,a.Wm)(r,{label:"type"},{default:(0,a.w5)((function(t){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.row.typeList,(function(t){return(0,a.wg)(),(0,a.j4)(i,{key:t.type,class:"c_tag"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,l.zw)(t.text),1)]})),_:2},1024)})),128))]})),_:1}),(0,a.Wm)(r,{prop:"date",label:"date"}),(0,a.Wm)(r,{fixed:"right",label:"Operations",width:"120"},{default:(0,a.w5)((function(t){return[(0,a.Wm)(n,{link:"",type:"primary",size:"small",onClick:function(e){return W(t)}},{default:(0,a.w5)((function(){return[m]})),_:2},1032,["onClick"]),(0,a.Wm)(o,{title:"Are you sure to delete this?",onConfirm:function(e){return k(t)}},{reference:(0,a.w5)((function(){return[(0,a.Wm)(n,{link:"",type:"primary",size:"small"},{default:(0,a.w5)((function(){return[_]})),_:1})]})),_:2},1032,["onConfirm"])]})),_:1})]})),_:1},8,["data"])]),(0,a._)("div",g,[(0,a.Wm)(v,{small:"",background:"",layout:"prev, pager, next",total:(0,u.SU)(y),class:"mt-4",onCurrentChange:b},null,8,["total"])])])}}}),v=n(3744);const y=(0,v.Z)(w,[["__scopeId","data-v-1f8be3c6"]]);var b=y}}]);
//# sourceMappingURL=775.3f659191.js.map