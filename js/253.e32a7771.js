"use strict";(self["webpackChunktgw_blog"]=self["webpackChunktgw_blog"]||[]).push([[253],{24253:function(t,e,a){a.r(e),a.d(e,{default:function(){return D}});var l=a(66252),n=a(3577),i=a(2262),c=a(65781),o=a(22628),u=a(48352),s=a(42119),r=a(33907),d=a(56940),_=function(t){return(0,l.dD)("data-v-4c1e2888"),t=t(),(0,l.Cn)(),t},v={class:"search_input"},f={class:"article_list_content"},p={class:"content_left"},g=["onClick"],m={class:"article_title colorZ size18"},h={class:"article_title color6 size16"},w={class:"article_title size14"},k={class:"pagination_block"},b={class:"content_rigth"},z=_((function(){return(0,l._)("div",{class:"content_rigth_title"},"热门搜索",-1)})),N={class:"content_right_label"},S=["onClick"],U=(0,l.aZ)({__name:"articleList",setup:function(t){var e=(0,s.tv)(),a=(0,r.oR)(),_=(0,i.iH)(0),U=(0,i.iH)(10),C=(0,i.iH)(0),y=(0,i.qj)({list:[]}),D=(0,i.iH)(!0),H=(0,i.iH)(""),V=(0,i.qj)({list:[]}),q=(0,i.iH)(!1);(0,l.bv)((function(){window.addEventListener("scroll",P),a.state.searchVal?(H.value=a.state.searchVal,T(!1)):j(),I()})),(0,l.Ah)((function(){window.removeEventListener("scroll",P)}));var L=function(t){console.log("val:",t),a.commit("setSearchVal",t),H.value=t,T(!0)},Z=(0,l.Fl)((function(){return a.state.pageNum})),I=function(){(0,o.U2)(u.Z.queryHotList).then((function(t){t.data.success&&(V.list=t.data.data)}))},T=function(t){(0,d.P2)((function(){t&&(a.commit("setPageNum",1),a.commit("setSearchVal",H),y.list=[],C.value=0),(0,o.v_)(u.Z.vagueQuery,{searchValue:H.value,pageNum:a.state.pageNum,size:U.value}).then((function(t){console.log("ret:",t),t.status&&t.data.success&&(console.log("ret.data.data:",t.data.data),y.list=t.data.data,C.value=t.data.total)}))}),2e3)},W=function(t){a.commit("setPageNum",t),H.value?T(!1):j()},j=function(){q.value=!1,(0,o.U2)(u.Z.queryArticleList,{pageNum:a.state.pageNum,size:U.value}).then((function(t){q.value=!0,t.status&&t.data.success&&(y.list=t.data.data,C.value=t.data.total)}))},E=function(t){console.log("id:=>",t),e.push({path:"/articleDetail",query:{id:t}})},P=function(){_.value=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop};return function(t,e){var a=(0,l.up)("el-button"),o=(0,l.up)("el-input"),u=(0,l.up)("el-affix"),s=(0,l.up)("el-empty"),r=(0,l.up)("el-pagination");return(0,l.wg)(),(0,l.iD)("div",{class:"articleList",onScroll:P},[(0,l.Wm)(u,{offset:0},{default:(0,l.w5)((function(){return[(0,l._)("div",{class:(0,n.C_)((0,i.SU)(D)?"search_block search_block_bgcolor":"search_block")},[(0,l._)("div",v,[(0,l.Wm)(o,{size:"large",placeholder:"请输入搜索内容",modelValue:(0,i.SU)(H),"onUpdate:modelValue":e[1]||(e[1]=function(t){return(0,i.dq)(H)?H.value=t:H=t})},{append:(0,l.w5)((function(){return[(0,l.Wm)(a,{icon:(0,i.SU)(c.olm),onClick:e[0]||(e[0]=function(t){return T(!0)})},null,8,["icon"])]})),_:1},8,["modelValue"])])],2)]})),_:1}),(0,l._)("div",f,[(0,l._)("div",p,[!(0,i.SU)(y).list.length&&(0,i.SU)(q)?((0,l.wg)(),(0,l.j4)(s,{key:0,description:"空空如也"})):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,i.SU)(y).list,(function(t){return(0,l.wg)(),(0,l.iD)("div",{class:"content_left_article",key:t.articleId,onClick:function(e){return E(t.articleId)}},[(0,l._)("div",m,(0,n.zw)(t.articleTitle),1),(0,l._)("div",h,(0,n.zw)(t.articleIntroduce),1),(0,l._)("div",w,[(0,l._)("span",null,"点赞: "+(0,n.zw)(t.goodNum?t.goodNum:0),1),(0,l._)("span",null,"阅读: "+(0,n.zw)(t.lookNum?t.lookNum:0),1),(0,l._)("span",null,"作者: "+(0,n.zw)(t.userName),1),(0,l._)("span",null,"发布时间: "+(0,n.zw)(t.createTime),1)])],8,g)})),128)),(0,l._)("div",k,[(0,l.Wm)(r,{background:"",layout:"prev, pager, next",total:(0,i.SU)(C),onCurrentChange:W,"current-page":(0,i.SU)(Z)},null,8,["total","current-page"])])]),(0,l._)("div",b,[z,(0,l._)("ul",N,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,i.SU)(V).list,(function(t,e){return(0,l.wg)(),(0,l.iD)("li",{key:e+"p",onClick:function(e){return L(t.hotDesc)}},(0,n.zw)(t.hotDesc),9,S)})),128))])])])],32)}}}),C=a(83744);const y=(0,C.Z)(U,[["__scopeId","data-v-4c1e2888"]]);var D=y}}]);
//# sourceMappingURL=253.e32a7771.js.map