{"version":3,"file":"js/65.be79fe92.js","mappings":"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","sources":["webpack://tgw-blog/./src/views/createBankCard.vue?236f","webpack://tgw-blog/./src/views/createBankCard.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '../assets/icon/yinlian.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8d2991dc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"createBankCard\" }\nconst _hoisted_2 = { class: \"bank_content\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"text-align\":\"left\"} }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"text-large font-600 mr-3\" }, \"生成银行卡\"),\n  /*#__PURE__*/_createElementVNode(\"div\", { style: {\"color\":\"red\"} }, \"(请勿用于非法用途,否则后果自负)\")\n], -1))\nconst _hoisted_4 = [\"src\"]\nconst _hoisted_5 = { class: \"preview_block\" }\nconst _hoisted_6 = { class: \"bank-name\" }\nconst _hoisted_7 = [\"src\"]\nconst _hoisted_8 = { class: \"bankName_block\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"CardCore\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"cardCoreBorder\" }),\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"cardCoreBorder\" }),\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"cardCoreBorder\" }),\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"cardCoreBorder\" })\n], -1))\nconst _hoisted_10 = { class: \"card-number\" }\nconst _hoisted_11 = { class: \"expiry-date\" }\nconst _hoisted_12 = { class: \"cardholder-name\" }\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"yinlian_block\" }, [\n  /*#__PURE__*/_createElementVNode(\"img\", {\n    class: \"yinlian\",\n    src: _imports_0,\n    alt: \"\"\n  })\n], -1))\nconst _hoisted_14 = /*#__PURE__*/_createTextVNode(\"下载银行卡\")\n\nimport html2canvas from \"html2canvas\";\nimport { onMounted, reactive, ref } from \"vue\";\nimport { downloadFile, fileToBlob, randomString } from \"@/common/methods\";\nimport { useRouter } from \"vue-router\";\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'createBankCard',\n  setup(__props) {\n\nconst route = useRouter();\n\nconst formLabelAlign = reactive({\n  bankName: \"上海银行\",\n  bankNameEn: \"Bank of ShangHai\",\n  bankNumber: \"620522126960125414\",\n  bankMY: \"01/32\",\n  bankLogo: require(\"../assets/icon/shanghai.png\"),\n  bankCity: \"SHENZHEN\",\n});\nlet bankNumber = ref(\"\");\nconst card: any = ref(null);\nconst fileUload: any = ref(null);\nlet imageSrc: any = ref(null);\n\nonMounted(() => {\n  bankNumber.value = formLabelAlign.bankNumber.replace(\n    /(\\d{4})(?=\\d)/g,\n    \"$1  \"\n  );\n});\n\n// 上传文件\nconst uploadFile = () => {\n  fileUload.value.click();\n  fileUload.value.addEventListener(\"change\", (event: any) => {\n    const file = event.target.files[0];\n    fileToBlob(file, (val: string) => {\n      console.log(\"val\", val);\n      formLabelAlign.bankLogo = val;\n      fileUload.value.value = null;\n    });\n    // 在这里可以对获取的文件进行处理\n  });\n};\n\n// 生成银行卡\nconst onSubmit = () => {\n  try {\n    let htmlValue = card.value;\n    html2canvas(htmlValue, { useCORS: true }).then((canvas) => {\n      imageSrc.value = canvas.toDataURL(\"image/png\");\n      console.log(\"imageSrc.value:\", imageSrc.value);\n      downloadFile(imageSrc.value, randomString());\n    });\n  } catch (err) {\n    console.log(\"err=>\", err);\n  }\n};\n\n// 银行卡格式化\nconst bankNoCheck = () => {\n  let bankNo = formLabelAlign.bankNumber;\n  bankNo = bankNo.replace(/(\\d{4})(?=\\d)/g, \"$1  \");\n  bankNumber.value = bankNo;\n  console.log(\"bankNo:\", bankNo);\n};\n\nconst errorHandler = () => true;\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_page_header = _resolveComponent(\"el-page-header\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_avatar = _resolveComponent(\"el-avatar\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_el_page_header, {\n        icon: null,\n        style: {\"padding-bottom\":\"20px\"}\n      }, {\n        title: _withCtx(() => [\n          _createElementVNode(\"span\", {\n            class: \"text-large font-600 mx-1 color666\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(route).back()))\n          }, \" 返回 \")\n        ]),\n        content: _withCtx(() => [\n          _hoisted_3\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_form, {\n        \"label-position\": \"top\",\n        \"label-width\": \"100px\",\n        model: formLabelAlign,\n        style: {\"max-width\":\"460px\"}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_form_item, { label: \"Bank Name:\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_input, {\n                modelValue: formLabelAlign.bankName,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((formLabelAlign.bankName) = $event))\n              }, null, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { label: \"Bank Name(English):\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_input, {\n                modelValue: formLabelAlign.bankNameEn,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((formLabelAlign.bankNameEn) = $event))\n              }, null, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { label: \"Bank Number:\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_input, {\n                modelValue: formLabelAlign.bankNumber,\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((formLabelAlign.bankNumber) = $event)),\n                onBlur: bankNoCheck\n              }, null, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { label: \"Valid Thru (m/y):\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_input, {\n                modelValue: formLabelAlign.bankMY,\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((formLabelAlign.bankMY) = $event))\n              }, null, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { label: \"City:\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_input, {\n                modelValue: formLabelAlign.bankCity,\n                \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((formLabelAlign.bankCity) = $event))\n              }, null, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { label: \"Bank logo\" }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", {\n                class: \"demo-type\",\n                onClick: uploadFile\n              }, [\n                _createVNode(_component_el_avatar, {\n                  size: 60,\n                  src: formLabelAlign.bankLogo,\n                  onError: errorHandler\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"img\", {\n                      src: formLabelAlign.bankLogo\n                    }, null, 8, _hoisted_4)\n                  ]),\n                  _: 1\n                }, 8, [\"src\"])\n              ]),\n              _createElementVNode(\"input\", {\n                type: \"file\",\n                ref_key: \"fileUload\",\n                ref: fileUload,\n                style: {\"display\":\"none\"}\n              }, null, 512)\n            ]),\n            _: 1\n          }),\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\"div\", {\n              ref_key: \"card\",\n              ref: card,\n              class: \"bank-card\"\n            }, [\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createElementVNode(\"img\", {\n                  class: \"bankLogo\",\n                  src: formLabelAlign.bankLogo,\n                  alt: \"\"\n                }, null, 8, _hoisted_7),\n                _createElementVNode(\"div\", _hoisted_8, [\n                  _createElementVNode(\"div\", null, _toDisplayString(formLabelAlign.bankName), 1),\n                  _createElementVNode(\"div\", null, _toDisplayString(formLabelAlign.bankNameEn), 1)\n                ])\n              ]),\n              _hoisted_9,\n              _createElementVNode(\"div\", _hoisted_10, _toDisplayString(_unref(bankNumber)), 1),\n              _createElementVNode(\"div\", _hoisted_11, _toDisplayString(formLabelAlign.bankMY), 1),\n              _createElementVNode(\"div\", _hoisted_12, _toDisplayString(formLabelAlign.bankCity), 1),\n              _hoisted_13\n            ], 512)\n          ]),\n          _createVNode(_component_el_form_item, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_button, {\n                type: \"primary\",\n                onClick: onSubmit\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_14\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"model\"])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./createBankCard.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./createBankCard.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./createBankCard.vue?vue&type=style&index=0&id=8d2991dc&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\myDemo\\\\giteeDemo\\\\tgw-blog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8d2991dc\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","class","_hoisted_2","_hoisted_3","_","style","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","src","alt","_hoisted_14","__name","setup","__props","route","formLabelAlign","bankName","bankNameEn","bankNumber","bankMY","bankLogo","bankCity","card","fileUload","imageSrc","value","replace","uploadFile","click","addEventListener","event","file","target","files","val","console","log","onSubmit","htmlValue","useCORS","then","canvas","toDataURL","err","bankNoCheck","bankNo","errorHandler","_ctx","_cache","_component_el_page_header","_component_el_input","_component_el_form_item","_component_el_avatar","_component_el_button","_component_el_form","icon","title","onClick","$event","back","content","model","default","label","modelValue","onBlur","size","onError","type","ref_key","ref","__exports__"],"sourceRoot":""}